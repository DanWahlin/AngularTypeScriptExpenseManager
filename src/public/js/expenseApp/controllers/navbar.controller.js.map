{"version":3,"sources":["expenseApp/controllers/navbar.controller.ts"],"names":["expenseApp","expenseApp.NavbarController","expenseApp.NavbarController.constructor","expenseApp.NavbarController.loginOrOut","expenseApp.NavbarController.redirectToLogin","expenseApp.NavbarController.setLoginLogoutText"],"mappings":"AAAA,IAAU,UAAU,CAiDnB;AAjDD,WAAU,UAAU,EAAC,CAAC;IAElBA;QAMIC,0BAAoBA,MAAiBA,EAAUA,SAASA,EACpCA,OAA0BA,EAC1BA,WAAiCA;YAFjCC,WAAMA,GAANA,MAAMA,CAAWA;YAAUA,cAASA,GAATA,SAASA,CAAAA;YACpCA,YAAOA,GAAPA,OAAOA,CAAmBA;YAC1BA,gBAAWA,GAAXA,WAAWA,CAAsBA;YAPrDA,gBAAWA,GAAYA,KAAKA,CAACA;YAC7BA,aAAQA,GAAWA,oBAAoBA,CAACA;YACxCA,oBAAeA,GAAWA,OAAOA,CAACA;YAM9BA,IAAIA,IAAIA,GAAGA,IAAIA,CAACA;YAChBA,IAAIA,CAACA,MAAMA,CAACA,GAAGA,CAACA,oBAAoBA,EAAEA,UAACA,QAAQA;gBAC3CA,IAAIA,CAACA,kBAAkBA,EAAEA,CAACA;YAC9BA,CAACA,CAACA,CAACA;YAEHA,IAAIA,CAACA,MAAMA,CAACA,GAAGA,CAACA,iBAAiBA,EAAEA;gBAC/BA,IAAIA,CAACA,eAAeA,EAAEA,CAACA;YAC3BA,CAACA,CAACA,CAACA;YAEHA,IAAIA,CAACA,kBAAkBA,EAAEA,CAACA;QAC9BA,CAACA;QAEDD,qCAAUA,GAAVA;YAAAE,iBAUCA;YATGA,IAAIA,CAACA,kBAAkBA,EAAEA,CAACA;YAC1BA,IAAIA,eAAeA,GAAGA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,eAAeA,CAACA;YAC5DA,EAAEA,CAACA,CAACA,eAAeA,CAACA,CAACA,CAACA;gBAClBA,IAAIA,CAACA,WAAWA,CAACA,MAAMA,EAAEA,CAACA,IAAIA,CAACA;oBAC3BA,KAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;oBACzBA,MAAMA,CAACA;gBACXA,CAACA,CAACA,CAACA;YACPA,CAACA;YACDA,IAAIA,CAACA,eAAeA,EAAEA,CAACA;QAC3BA,CAACA;;QAEDF,0CAAeA,GAAfA;YACIG,IAAIA,IAAIA,GAAGA,QAAQA,GAAGA,IAAIA,CAACA,SAASA,CAACA,MAAMA,CAACA;YAC5CA,IAAIA,CAACA,SAASA,CAACA,OAAOA,EAAEA,CAACA;YACzBA,IAAIA,CAACA,SAASA,CAACA,IAAIA,CAACA,IAAIA,CAACA,CAACA;QAC9BA,CAACA;QAEDH,6CAAkBA,GAAlBA;YACII,IAAIA,CAACA,eAAeA,GAAGA,CAACA,IAAIA,CAACA,WAAWA,CAACA,IAAIA,CAACA,eAAeA,CAACA,GAAGA,QAAQA,GAAGA,OAAOA,CAACA;QACxFA,CAACA;QApCMJ,wBAAOA,GAAGA,CAACA,QAAQA,EAAEA,WAAWA,EAAEA,SAASA,EAAEA,iCAAiCA,CAACA,CAACA;QAsC3FA,uBAACA;IAADA,CA3CAD,AA2CCC,IAAAD;IAEDA,OAAOA,CAACA,MAAMA,CAACA,YAAYA,CAACA,CAACA,UAAUA,CAACA,6BAA6BA,EAAEA,gBAAgBA,CAACA,CAACA;AAE7FA,CAACA,EAjDS,UAAU,KAAV,UAAU,QAiDnB","file":"expenseApp/controllers/navbar.controller.js","sourcesContent":["namespace expenseApp {\n\n    class NavbarController {\n        isCollapsed: boolean = false;\n        appTitle: string = 'Expense Management';\n        loginLogoutText: string = 'Login';\n\n        static $inject = ['$scope', '$location', '$window', 'expenseApp.services.authService'];\n        constructor(private $scope: ng.IScope, private $location,\n                    private $window: ng.IWindowService, \n                    private authService: services.AuthService) {\n            var self = this;\n            this.$scope.$on('loginStatusChanged', (loggedIn) => {\n                self.setLoginLogoutText();\n            });\n    \n            this.$scope.$on('redirectToLogin', () => {\n                self.redirectToLogin();\n            });\n                        \n            this.setLoginLogoutText();\n        }\n\n        loginOrOut() : void {\n            this.setLoginLogoutText();\n            var isAuthenticated = this.authService.user.isAuthenticated;\n            if (isAuthenticated) { //logout \n                this.authService.logout().then(() => {\n                    this.$location.path('/');\n                    return;\n                });                \n            }\n            this.redirectToLogin();\n        };\n\n        redirectToLogin() : void {\n            var path = '/login' + this.$location.$$path;\n            this.$location.replace();\n            this.$location.path(path);\n        }\n\n        setLoginLogoutText() : void {\n            this.loginLogoutText = (this.authService.user.isAuthenticated) ? 'Logout' : 'Login';\n        }\n\n    }\n\n    angular.module('expenseApp').controller('expenseApp.NavbarController', NavbarController);\n\n}\n"],"sourceRoot":"/source/"}