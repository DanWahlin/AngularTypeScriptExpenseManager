{"version":3,"sources":["expenseApp/controllers/expenses/expenseChild.controller.ts"],"names":["expenseApp","expenseApp.expenses","expenseApp.expenses.ExpenseChildController","expenseApp.expenses.ExpenseChildController.constructor","expenseApp.expenses.ExpenseChildController.setOrder","expenseApp.expenses.ExpenseChildController.updateTotal"],"mappings":"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","file":"expenseApp/controllers/expenses/expenseChild.controller.js","sourcesContent":["///<reference path=\"../../../../../../tools/typings/tsd.d.ts\" />\n///<reference path=\"../../../../../../tools/typings/expenseApp.d.ts\" />\n\nnamespace expenseApp.expenses {\n    'use strict';\n\n    interface IEmployeeScope extends ng.IScope {\n        employee;\n    }\n\n    class ExpenseChildController {\n\n        orderby: string = 'product';\n        reverse: boolean = false;\n        expensesTotal: number = 0.00;\n        employee;\n\n        static $inject = ['$scope', '$window', '$location', 'expenseApp.services.dataService', 'expenseApp.services.modalService'];\n        constructor(private $scope: IEmployeeScope, private $window:ng.IWindowService, private $location: ng.ILocationService,\n                    private dataService: expenseApp.services.DataService,\n                    private modalService: expenseApp.services.ModalService) {\n            //See if parent $scope has an employee that's inherited (ExpensesController)\n            if (this.$scope.employee) {\n                this.employee = this.$scope.employee;\n                this.updateTotal(this.$scope.employee);\n            //Employee not available yet so listen for availability (EmployeeExpensesController)\n            } else {\n                this.$scope.$on('employee', (event, employee) => {\n                    this.employee = employee;\n                    this.updateTotal(employee);\n                });\n            }\n        }\n\n        setOrder(orderby) {\n            if (orderby === this.orderby) {\n                this.reverse = !this.reverse;\n            }\n            this.orderby = orderby;\n        }\n\n        updateTotal(employee) {\n            if (employee && employee.expenses) {\n                var total = 0.00;\n                for (var i = 0; i < employee.expenses.length; i++) {\n                    var order = employee.expenses[i];\n                    total += order.orderTotal;\n                }\n                this.expensesTotal = total;\n            }\n        }\n    }\n\n    angular.module('expenseApp').controller('ExpenseChildController', ExpenseChildController);\n\n}\n"],"sourceRoot":"/source/"}