{"version":3,"sources":["expenseApp/services/httpInterceptors.ts"],"names":["employeeApp","employeeApp.services","employeeApp.services.HttpInterceptor401","employeeApp.services.HttpInterceptor401.constructor","employeeApp.services.HttpInterceptor401.Factory","employeeApp.services.HttpInterceptor401.responseHandler","employeeApp.services.HttpInterceptor401.responseErrorHandler"],"mappings":"AAAA,6DAA6D;AAC7D,oEAAoE;AAEpE,YAAY,CAAC;AACb,IAAU,WAAW,CAqCpB;AArCD,WAAU,WAAW;IAACA,IAAAA,QAAQA,CAqC7BA;IArCqBA,WAAAA,QAAQA,EAACA,CAACA;QAE5BC;YAUIC,4BAAoBA,EAAgBA,EAAUA,UAAgCA;gBAVlFC,iBAkCCA;gBAxBuBA,OAAEA,GAAFA,EAAEA,CAAcA;gBAAUA,eAAUA,GAAVA,UAAUA,CAAsBA;gBAC1EA,IAAIA,CAACA,QAAQA,GAAGA,UAACA,GAAGA,IAAOA,MAAMA,CAACA,GAAGA,IAAIA,KAAIA,CAACA,EAAEA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA,CAACA,CAACA,CAACA;gBAC9DA,IAAIA,CAACA,aAAaA,GAAGA,UAACA,GAAGA;oBACrBA,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,KAAKA,GAAGA,CAACA,CAACA,CAACA;wBACrBA,AACAA,uCADuCA;wBACvCA,KAAIA,CAACA,UAAUA,CAACA,UAAUA,CAACA,iBAAiBA,EAAEA,IAAIA,CAACA,CAACA;wBACpDA,MAAMA,CAACA,KAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;oBAC/BA,CAACA;oBACDA,MAAMA,CAACA,KAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;gBAC/BA,CAACA,CAACA;YACNA,CAACA;YAlBMD,0BAAOA,GAAdA,UAAeA,EAAgBA,EAAEA,UAAgCA;gBAC7DE,MAAMA,CAACA,IAAIA,kBAAkBA,CAACA,EAAEA,EAAEA,UAAUA,CAACA,CAACA;YAClDA,CAACA;YAkBDF,4CAAeA,GAAfA,UAAgBA,GAAGA;gBACfG,MAAMA,CAACA,GAAGA,IAAIA,IAAIA,CAACA,EAAEA,CAACA,IAAIA,CAACA,GAAGA,CAACA,CAACA;YACpCA,CAACA;YAEDH,iDAAoBA,GAApBA,UAAqBA,GAAGA;gBACpBI,EAAEA,CAACA,CAACA,GAAGA,CAACA,MAAMA,KAAKA,GAAGA,CAACA,CAACA,CAACA;oBACrBA,AACAA,uCADuCA;oBACvCA,IAAIA,CAACA,UAAUA,CAACA,UAAUA,CAACA,iBAAiBA,EAAEA,IAAIA,CAACA,CAACA;oBACpDA,MAAMA,CAACA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;gBAC/BA,CAACA;gBACDA,MAAMA,CAACA,IAAIA,CAACA,EAAEA,CAACA,MAAMA,CAACA,GAAGA,CAACA,CAACA;YAC/BA,CAACA;YAxBMJ,0BAAOA,GAAGA,CAACA,IAAIA,EAAEA,YAAYA,CAACA,CAACA;YAyB1CA,yBAACA;QAADA,CAlCAD,AAkCCC,IAAAD;QAlCYA,2BAAkBA,qBAkC9BA,CAAAA;IACLA,CAACA,EArCqBD,QAAQA,GAARA,oBAAQA,KAARA,oBAAQA,QAqC7BA;AAADA,CAACA,EArCS,WAAW,KAAX,WAAW,QAqCpB;AAED,CAAC;IAED,kGAAkG;IAClG,+FAA+F;IAC/F,UAAU;AAEV,CAAC,CAAC,EAAE,CAAC","file":"expenseApp/services/httpInterceptors.js","sourcesContent":["///<reference path=\"../../../../../tools/typings/tsd.d.ts\" />\n///<reference path=\"../../../../../tools/typings/expenseApp.d.ts\" />\n\n'use strict';\nnamespace employeeApp.services {\n\n    export class HttpInterceptor401 {\n\n        static Factory($q: ng.IQService, $rootScope: ng.IRootScopeService) {\n            return new HttpInterceptor401($q, $rootScope);\n        }\n\n        response: (res: ng.IHttpPromiseCallbackArg<any>) => any;\n        responseError: (res: ng.IHttpPromiseCallbackArg<any>) => any;\n\n        static $inject = ['$q', '$rootScope'];\n        constructor(private $q: ng.IQService, private $rootScope: ng.IRootScopeService) {\n            this.response = (res) => { return res || this.$q.when(res); };\n            this.responseError = (res) => {\n                if (res.status === 401) {\n                    //Raise event so listener can act on it\n                    this.$rootScope.$broadcast('redirectToLogin', null);\n                    return this.$q.reject(res);\n                }\n                return this.$q.reject(res);\n            };\n        }\n\n        responseHandler(res) {\n            return res || this.$q.when(res);\n        }\n\n        responseErrorHandler(res) {\n            if (res.status === 401) {\n                //Raise event so listener can act on it\n                this.$rootScope.$broadcast('redirectToLogin', null);\n                return this.$q.reject(res);\n            }\n            return this.$q.reject(res);\n        }\n    }\n}\n\n((): void => {\n\n//    angular.module('expenseApp').config(['$httpProvider', ($httpProvider: ng.IHttpProvider) => {\n//            $httpProvider.interceptors.push(employeeApp.services.HttpInterceptor401.Factory);\n//    }]);\n\n})();\n"],"sourceRoot":"/source/"}